<div class="row">
  {{- $limit := .Get "limit" | default 6 -}}
  {{- $pages := where .Site.RegularPages "Section" "in" (slice "posts" "blog") -}}
  {{- range first $limit $pages }}
  <div class="col-12 col-md-6 col-lg-4 mb-4">
    <div class="card h-100 shadow-sm km-card">
      {{- with .Params.images }}
        <img class="card-img-top" src="{{ index . 0 }}" alt="{{ $.Title }}">
      {{- end }}
      <div class="card-body d-flex flex-column">
        <a class="stretched-link" href="{{ .RelPermalink }}"><h5 class="card-title mb-2">{{ .Title }}</h5></a>
        <p class="card-text text-muted mb-3">{{ .Params.description | default .Summary | plainify | truncate 120 }}</p>
        <div class="mt-auto">
          <small class="text-muted">{{ .Date.Format "2006-01-02" }}</small>
          {{- with .Params.tags }}
            <div class="mt-1">
              {{- range first 2 . }}
                <span class="badge badge-light mr-1">#{{ . }}</span>
              {{- end }}
            </div>
          {{- end }}
        </div>
      </div>
    </div>
  </div>
  {{- end }}
</div>
